!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ScrollEvents=t()}}(function(){var t;return function e(t,n,i){function r(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!l&&c)return c(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return r(n?n:e)},h,h.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,n){!function(e){"use strict";var i=function(t,e){var n=[].slice.call(arguments,2),i=function(){return e.apply(t,n)};return i};"undefined"!=typeof n&&n.exports?n.exports=i:"undefined"!=typeof t?t(function(){return i}):e.delegate=i}(this)},{}],2:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}Object.defineProperty(n,"__esModule",{value:!0});var o={},s=function(){function t(){i(this,t),this._eventMap={},this._destroyed=!1,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emit=this.trigger=this.dispatchEvent=this.dispatch}return t.getInstance=function(e){if(!e)throw new Error("key must be");return o[e]||(o[e]=new t)},t.prototype.addListener=function(t,e){var n=this.getListener(t);return n?-1===n.indexOf(e)&&n.push(e):this._eventMap[t]=[e],this},t.prototype.addListenerOnce=function(t,e){var n=this,i=function(r){e(r),n.off(t,i),e=null,i=null};return this.on(t,i)},t.prototype.removeListener=function(t,e){if(!e)return this.removeAllListener(t);var n=this.getListener(t);if(n){var i=n.indexOf(e);i>-1&&(n=n.splice(i,1),n.length||delete this._eventMap[t])}return this},t.prototype.removeAllListener=function(t){var e=this.getListener(t);return e&&(this._eventMap[t].length=0,delete this._eventMap[t]),this},t.prototype.hasListener=function(t){return null!==this.getListener(t)},t.prototype.hasListeners=function(){return null!==this._eventMap&&void 0!==this._eventMap&&!r(this._eventMap)},t.prototype.dispatch=function(t,e){var n=this.getListener(t);if(n){e=e||{},e.type=t,e.target=e.target||this;for(var i=-1;++i<n.length;)n[i](e)}return this},t.prototype.getListener=function(t){var e=this._eventMap?this._eventMap[t]:null;return e||null},t.prototype.destroy=function(){if(this._eventMap){for(var t in this._eventMap)this.removeAllListener(t);this._eventMap=null}return this._destroyed=!0,this},t}();n["default"]=s,e.exports=n["default"]},{}],3:[function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=t("./scroll-events"),r=n(i);e.exports=r["default"]},{"./scroll-events":4}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("delegatejs"),h=i(a),u=t("eventdispatcher"),d=i(u),f={},p=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?window:arguments[0],i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e);var r=s(this,t.call(this));if(e.hasScrollTarget(n)){var l;return l=e.getInstance(n),s(r,l)}return r._scrollTarget=n,r.options=i,f[n]=r,r.options.animationFrame=m.animationFrame,r.options.animationFrame&&e.unprefixAnimationFrame(),r.init(),r}return l(e,t),e.getInstance=function(t,n){return f[t]||(f[t]=new e(t,n)),f[t]},e.hasInstance=function(t){return"undefined"!=typeof f[t]},e.unprefixAnimationFrame=function(){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame},e.directionToString=function(t){switch(t){case e.UP:return"up";case e.DOWN:return"down";case e.NONE:return"none";case e.LEFT:return"left";case e.RIGHT:return"right"}},c(e,null,[{key:"windowScrollY",get:function(){return window.pageYOffset||window.scrollY||0}},{key:"documentHeight",get:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}},{key:"documentWidth",get:function(){return Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)}}]),e.prototype.init=function(){this._destroyed=!1,this._scrollY=0,this._scrollX=0,this._timeout=0,this._speedY=0,this._speedX=0,this._lastSpeed=0,this._lastDirection=e.NONE,this._stopFrames=3,this._currentStopFrames=0,this._firstRender=!0,this._directionY=e.NONE,this._directionX=e.NONE,this._scrolling=!1,this.getScrollPosition=this._scrollTarget===window?h["default"](this,this._getWindowScrollPosition):h["default"](this,this._getElementScrollPosition),this.onScroll=h["default"](this,this.onScroll),this.onResize=h["default"](this,this.onResize),this.onNextFrame=h["default"](this,this.onNextFrame),this.updateScrollPosition(),this._scrollTarget.addEventListener?(this._scrollTarget.addEventListener("scroll",this.onScroll,!1),this._scrollTarget.addEventListener("resize",this.onResize,!1)):this._scrollTarget.attachEvent&&(this._scrollTarget.attachEvent("scroll",this.onScroll),this._scrollTarget.attachEvent("resize",this.onResize))},e.prototype.update=function(){var t=this._scrollY;this.updateScrollPosition(),t!==this.y&&this.dispatchEvent(e.EVENT_SCROLL_PROGRESS)},e.prototype.destroy=function(){this._destroyed||(this._cancelNextFrame(),t.prototype.destroy.call(this),this._scrollTarget.addEventListener?(this._scrollTarget.removeEventListener("scroll",this.onScroll),this._scrollTarget.removeEventListener("resize",this.onResize)):this._scrollTarget.attachEvent&&(this._scrollTarget.detachEvent("scroll",this.onScroll),this._scrollTarget.detachEvent("resize",this.onResize)),this.onResize=null,this.onScroll=null,this.getScrollPosition=null,this.onNextFrame=null,this._scrollTarget=null,this._destroyed=!0)},e.prototype.updateScrollPosition=function(){this._scrollY=this.scrollY},e.prototype._getWindowScrollPosition=function(){return{y:e.windowScrollY}},e.prototype._getElementScrollPosition=function(){return{y:this._scrollTarget.scrollTop}},e.prototype.onResize=function(){this.dispatchEvent(e.EVENT_SCROLL_RESIZE)},e.prototype.onScroll=function(){var t=this;return this._currentStopFrames=0,this._firstRender&&(this._firstRender=!1,this.y>1)?(this.updateScrollPosition(),void this.dispatchEvent(e.EVENT_SCROLL_PROGRESS)):void(this._scrolling||(this._scrolling=!0,this.dispatchEvent(e.EVENT_SCROLL_START),this.options.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):(clearTimeout(this._timeout),this.onNextFrame(),this._timeout=setTimeout(function(){t.onScrollStop()},100))))},e.prototype.onNextFrame=function(){return this._lastDirection=this.directionY,this._speedY=this._scrollY-this.scrollY,this.options.animationFrame&&this._scrolling&&0===this.speedY&&this._currentStopFrames++>this._stopFrames?void this.onScrollStop():(this.updateScrollPosition(),this._lastDirection!==this.directionY&&this.dispatchEvent("scroll:"+e.directionToString(this.directionY)),this.dispatchEvent(e.EVENT_SCROLL_PROGRESS),void(this.options.animationFrame&&(this.nextFrameID=window.requestAnimationFrame(this.onNextFrame))))},e.prototype.onScrollStop=function(){this._scrolling=!1,this.updateScrollPosition(),this.dispatchEvent(e.EVENT_SCROLL_STOP),this.y<=0?this.dispatchEvent(e.EVENT_SCROLL_TOP):this.y+this.clientHeight>=this.scrollHeight&&this.dispatchEvent(e.EVENT_SCROLL_BOTTOM),this.options.animationFrame&&(this._cancelNextFrame(),this._currentStopFrames=0)},e.prototype._cancelNextFrame=function(){window.cancelAnimationFrame(this.nextFrameID),this.nextFrameID=-1},c(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"scrollPosition",get:function(){return this.getScrollPosition()}},{key:"directionY",get:function(){return 0!==this.speedY||this._scrolling?this.speedY>0?this._directionY=e.UP:this.speedY<0&&(this._directionY=e.DOWN):this._directionY=e.NONE,this._directionY}},{key:"directionX",get:function(){return 0!==this.speedX||this._scrolling?this.speedX>0?this._directionX=e.RIGHT:this.speedX<0&&(this._directionX=e.LEFT):this._directionX=e.NONE,this._directionX}},{key:"scrollTarget",get:function(){return this._scrollTarget}},{key:"delta",get:function(){return this.directionY}},{key:"scrolling",get:function(){return this._scrolling}},{key:"speedY",get:function(){return this._speedY}},{key:"speedX",get:function(){return this._speedX}},{key:"scrollY",get:function(){return this.scrollPosition.y}},{key:"y",get:function(){return this.scrollY}},{key:"scrollX",get:function(){return this.scrollPosition.x}},{key:"x",get:function(){return this.scrollX}},{key:"clientHeight",get:function(){return this._scrollTarget===window?window.innerHeight:this._scrollTarget.clientHeight}},{key:"clientWidth",get:function(){return this._scrollTarget===window?window.innerWidth:this._scrollTarget.clientWidth}},{key:"scrollHeight",get:function(){return this._scrollTarget===window?e.documentHeight:this._scrollTarget.scrollHeight}},{key:"scrollWidth",get:function(){return this._scrollTarget===window?e.documentHeight:this._scrollTarget.scrollHeight}}]),e}(d["default"]);p.hasScrollTarget=p.hasInstance,p.UP=-1,p.DOWN=1,p.NONE=0,p.LEFT=-2,p.RIGHT=2,p.EVENT_SCROLL_PROGRESS="scroll:progress",p.EVENT_SCROLL_START="scroll:start",p.EVENT_SCROLL_STOP="scroll:stop",p.EVENT_SCROLL_DOWN="scroll:down",p.EVENT_SCROLL_UP="scroll:up",p.EVENT_SCROLL_TOP="scroll:top",p.EVENT_SCROLL_BOTTOM="scroll:bottom",p.EVENT_SCROLL_RESIZE="scroll:resize",n["default"]=p;var m=function(){function t(){o(this,t)}return c(t,null,[{key:"animationFrame",get:function(){return!!(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)}}]),t}();e.exports=n["default"]},{delegatejs:1,eventdispatcher:2}]},{},[3])(3)});